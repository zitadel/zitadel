{
  "$schema": "../../node_modules/nx/schemas/project-schema.json",
  "targets": {
    "build": {
      "description": "Build the Next.js application in standalone mode for production",
      "cache": true,
      "dependsOn": [
        "^build"
      ],
      "inputs": [
        "default",
        "{workspaceRoot}/pnpm-lock.yaml",
        "!{projectRoot}/.env.*",
        "!{projectRoot}/.local.env",
        "!{projectRoot}/integration/**/*",
        "!{projectRoot}/acceptance/**/*",
        "!{projectRoot}/cypress.config.ts"
      ],
      "outputs": [
        "{projectRoot}/.next/standalone"
      ]
    },
    "build-vercel": {
      "description": "Build for Vercel deployment",
      "cache": true,
      "dependsOn": [
        "^build"
      ],
      "inputs": [
        "default",
        "{workspaceRoot}/pnpm-lock.yaml",
        "!{projectRoot}/.env.*",
        "!{projectRoot}/.local.env",
        "!{projectRoot}/integration/**/*",
        "!{projectRoot}/acceptance/**/*",
        "!{projectRoot}/cypress.config.ts"
      ],
      "outputs": [
        "{projectRoot}/.next",
        "!{projectRoot}/.next/cache",
        "!{projectRoot}/.next/standalone"
      ]
    },
    "lint": {
      "description": "Run all linters",
      "dependsOn": [
        "lint-check-*"
      ]
    },
    "lint-check-prettier": {
      "cache": true,
      "inputs": [
        "default"
      ]
    },
    "lint-check-next": {
      "cache": true,
      "inputs": [
        "default"
      ]
    },
    "test-unit": {
      "description": "Run unit tests",
      "dependsOn": [
        "^build"
      ]
    },
    "prod": {
      "continuous": true,
      "dependsOn": [
        "build"
      ]
    },
    "dev": {
      "continuous": true,
      "dependsOn": [
        "^build"
      ]
    },
    "test-integration-run": {
      "cache": true,
      "inputs": [
        "default",
        "{workspaceRoot}/pnpm-lock.yaml",
        "!{projectRoot}/acceptance/**/*",
        { "env": "API_MOCK_STUBS_URL" },
        { "env": "LOGIN_BASE_URL" }
      ]
    }
  }
}