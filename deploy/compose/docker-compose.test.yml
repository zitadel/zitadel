# Test overlay: replaces published images with locally-built ones.
# Used by the NX smoke-test target (@zitadel/compose:test).
#
# All test traffic flows through the Traefik proxy (port 8080)
# so the routing rules are validated end-to-end.
#
# Usage:
#   docker compose --env-file .env.test -f docker-compose.yml -f docker-compose.test.yml \
#     -p zitadel-compose-test up --force-recreate --renew-anon-volumes --wait

services:
  zitadel-api:
    image: zitadel/zitadel:local

  zitadel-login:
    image: zitadel/zitadel-login:local
