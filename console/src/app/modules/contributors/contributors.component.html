<div class="contributor-groups">
  <div class="contributor-people">
    <div class="contributor-img-list" [ngClass]="{ 'padd-left': totalResult > 0 }" [@cardAnimation]="totalResult">
      @if (loading) {
        <mat-spinner class="spinner" diameter="20"></mat-spinner>
      }
      @if (totalResult < 10) {
        @for (member of membersSubject | async; track member; let i = $index) {
          <div
            @animate
            (click)="emitShowDetail()"
            class="contributor-avatar-circle"
            matTooltip="{{ member.displayName }} | {{ member.rolesList | roletransform }}"
            [ngStyle]="{ 'z-index': 20 - i }"
            data-e2e="member-avatar"
            >
            @if (member && member.userType === UserType.TYPE_HUMAN) {
              <cnsl-avatar
                class="contributor-avatar dontcloseonclick"
                [avatarUrl]="member.avatarUrl || ''"
                [name]="member.displayName"
                [forColor]="member.preferredLoginName"
                [size]="32"
                >
              </cnsl-avatar>
            } @else {
              <cnsl-avatar [forColor]="member.preferredLoginName" [isMachine]="true">
                <i class="las la-robot"></i>
              </cnsl-avatar>
            }
          </div>
        }
      } @else {
        <div
          (click)="emitShowDetail()"
          class="contributor-avatar-circle"
          matTooltip="{{ 'MEMBER.SHOWDETAILS' | translate }}"
          >
          <span>{{ totalResult }}</span>
        </div>
      }
      <button
        class="add-img"
        [ngClass]="{ 'no-margin': totalResult === 0 }"
        (click)="emitAddMember()"
        [disabled]="disabled"
        mat-icon-button
        matTooltip="{{ 'MEMBER.ADD' | translate }}"
        aria-label="Add member"
        data-e2e="add-member-button"
        >
        <mat-icon>add</mat-icon>
      </button>
    </div>
  </div>
</div>
