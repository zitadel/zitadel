<div class="feature-settings-wrapper">
  <div class="feature-title-row">
    <h2>{{ 'DESCRIPTIONS.SETTINGS.FEATURES.TITLE' | translate }}</h2>
    <a
      mat-icon-button
      href="https://zitadel.com/docs/apis/resources/feature_service_v2/feature-service"
      rel="noreferrer"
      target="_blank"
    >
      <mat-icon class="icon">info_outline</mat-icon>
    </a>
  </div>
  <p class="events-desc cnsl-secondary-text">{{ 'DESCRIPTIONS.SETTINGS.FEATURES.DESCRIPTION' | translate }}</p>

  <ng-template cnslHasRole [hasRole]="['iam.restrictions.write']">
    <button color="warn" (click)="resetSettings()" mat-stroked-button>
      {{ 'SETTING.FEATURES.RESET' | translate }}
    </button>
  </ng-template>

  <cnsl-card *ngIf="toggleStates && featureData">
    <div class="features">
      <cnsl-feature-toggle
        *ngFor="let key of toggleStateKeys"
        [featureData]="featureData"
        [toggleStates]="toggleStates"
        [toggleStateKey]="key"
        (toggleChange)="validateAndSave()"
      ></cnsl-feature-toggle>
    </div>
  </cnsl-card>
</div>

<ng-template #sourceLabel let-source="source" let-last="last">
  <span class="state" *ngIf="source === Source.SOURCE_SYSTEM">
    {{ 'SETTING.FEATURES.SOURCE.' + source | translate }}
  </span>
</ng-template>
